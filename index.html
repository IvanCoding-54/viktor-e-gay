<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VIKTOR ARCADE üéÆ</title>

  <link rel="stylesheet" href="style.css" />
</head>
<body class="dark">
  <div class="rgb-bg"></div>
  <div class="app">

    <nav class="navbar">
      <h2 class="logo">VIKTOR</h2>
      <div class="tabs">
        <a href="index.html" class="tab-btn">–ù–∞—á–∞–ª–æ</a>
        <a href="who.html" class="tab-btn">–ö–æ–π –µ –í–∏–∫—Ç–æ—Ä</a>
        <a href="pride.html" class="tab-btn">–ì–æ—Ä–¥–æ—Å—Ç</a>
        <a href="femboy.html" class="tab-btn">Femboy –í–∏–∫—Ç–æ—Ä</a>
        <a href="furry.html" class="tab-btn">–§—ä—Ä–∏ –í–∏–∫—Ç–æ—Ä</a>
        <a href="facts.html" class="tab-btn">–§–∞–∫—Ç–∏</a>
        <a href="games.html" class="tab-btn active">–ò–≥—Ä–∏</a>
        <a href="contact.html" class="tab-btn">–ö–æ–Ω—Ç–∞–∫—Ç</a>
      </div>

      <button class="theme-toggle" onclick="toggleThemeMenu()">–°–º–µ–Ω–∏ —Ç–µ–º–∞</button>
      <div id="theme-menu" class="theme-menu">
        <button onclick="setTheme('light')">–°–≤–µ—Ç–ª–∞ —Ç–µ–º–∞</button>
        <button onclick="setTheme('dark')">–¢—ä–º–Ω–∞ —Ç–µ–º–∞</button>
        <button onclick="setTheme('rgb')">RGB —Ç–µ–º–∞</button>
      </div>
    </nav>

    <main class="content">
      <section class="card card-border reveal">
        <h1 class="section-title">VIKTOR ARCADE üéÆ</h1>
        <p>–¢—É–∫ –í–∏–∫—Ç–æ—Ä —Ç—Ä–µ–Ω–∏—Ä–∞ —Ä–µ—Ñ–ª–µ–∫—Å–∏, —Ü–≤—è—Ç –∏ —Ö–∞–æ—Å. –¢–æ–≤–∞ –µ –Ω–µ–≥–æ–≤–æ—Ç–æ –º–∞–ª–∫–æ –¥–∏–≥–∏—Ç–∞–ª–Ω–æ —É–±–µ–∂–∏—â–µ ‚Äî –º—è—Å—Ç–æ, –∫—ä–¥–µ—Ç–æ –∏–≥—Ä–∞—Ç–∞ —Å—Ä–µ—â–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—Ç–∞, –∞ –∑–∞–±–∞–≤–ª–µ–Ω–∏–µ—Ç–æ —Å—Ä–µ—â–∞ —Å–≤–æ–±–æ–¥–∞—Ç–∞.</p>
        <div class="game-box">
          <h2 class="game-title">Rainbow Aim Trainer üåà</h2>
          <p class="game-text">
            –¢–µ—Å—Ç–≤–∞–π –±—ä—Ä–∑–∏–Ω–∞—Ç–∞ —Å–∏! –ó–Ω–∞–º–µ–Ω–∞—Ç–∞ —Å–µ –ø–æ—è–≤—è–≤–∞—Ç –Ω–∞ —Å–ª—É—á–∞–π–Ω–∏ –º–µ—Å—Ç–∞ ‚Äî —Ç–≤–æ—è—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ –≥–∏ —É–ª–æ–≤–∏—à —Å –∫–ª–∏–∫, –ø—Ä–µ–¥–∏ –¥–∞ –∏–∑—á–µ–∑–Ω–∞—Ç. 
            –ö–æ–ª–∫–æ—Ç–æ –ø–æ-–±—ä—Ä–∑ —Å–∏, —Ç–æ–ª–∫–æ–≤–∞ –ø–æ–≤–µ—á–µ —Ç–æ—á–∫–∏. –ò –ø–æ–º–Ω–∏: —Ü–≤–µ—Ç–æ–≤–µ—Ç–µ –≤–∏–Ω–∞–≥–∏ –ø–æ–±–µ–∂–¥–∞–≤–∞—Ç —Ö–∞–æ—Å–∞.
          </p>

          <button id="aim-start" class="game-btn">–°—Ç–∞—Ä—Ç Aim Trainer</button>

          <div class="game-info">
            <span>–¢–æ—á–∫–∏: <span id="aim-score">0</span></span>
            <span>–í—Ä–µ–º–µ: <span id="aim-time">20</span>s</span>
          </div>

          <div id="aim-area" class="aim-area"></div>
        </div>

        <div class="leaderboard"> 
          <h3 class="leaderboard-title">Aim Trainer –ö–ª–∞—Å–∞—Ü–∏—è</h3> 
          <ol id="aim-leaderboard-list">
            <li>–ó–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏...</li>
          </ol>
        </div>
      </section>
    </main>
  </div>

  <!-- POPUP OVERLAY FOR RAINBOW CATCH -->
  <div id="flag-game-overlay" class="flag-game-overlay">
    <div class="flag-game-window">
      <div class="flag-game-header">
        <span>Rainbow Catch üè≥Ô∏è‚Äçüåà</span>
        <button class="flag-game-close" onclick="closeFlagGame()">‚úï</button>
      </div>

      <div class="flag-timer">–í—Ä–µ–º–µ: <span id="flag-timer">120</span>s</div>

      <div class="flag-game-info">
        <span>–¢–æ—á–∫–∏: <span id="flag-score">0</span></span>
      </div>

      <div id="flag-game-area" class="flag-game-area"></div>
    </div>
  </div>
  <!-- FIREBASE -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
    import {
      getFirestore,
      collection,
      addDoc,
      getDocs,
      query,
      orderBy,
      limit
    } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBFWvM1j4h3kXQuCuoIUnDMTcc48Mjt2Yw",
      authDomain: "viktor-rgb.firebaseapp.com",
      projectId: "viktor-rgb",
      storageBucket: "viktor-rgb.appspot.com",
      messagingSenderId: "794757192149",
      appId: "1:794757192149:web:716d69ca99a1f909bac55c",
      measurementId: "G-9ZJZJGZXZT"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Rainbow Catch –∫–ª–∞—Å–∞—Ü–∏—è
    window.saveScore = async function(name, score) {
      await addDoc(collection(db, "leaderboard"), {
        name: name,
        score: score,
        created_at: Date.now()
      });
    }

    window.loadLeaderboard = async function() {
      const q = query(
        collection(db, "leaderboard"),
        orderBy("score", "desc"),
        limit(10)
      );

      const snapshot = await getDocs(q);
      return snapshot.docs.map(doc => doc.data());
    }

    // Aim Trainer –∫–ª–∞—Å–∞—Ü–∏—è
    window.saveAimScore = async function(name, score) {
      if (!name || name.trim() === "") return;
      await addDoc(collection(db, "aim_scores"), {
        name: name.trim(),
        score: score,
        timestamp: Date.now()
      });
    }

    window.loadAimLeaderboard = async function() {
      const q = query(
        collection(db, "aim_scores"),
        orderBy("score", "desc"),
        limit(10)
      );

      const snapshot = await getDocs(q);
      return snapshot.docs.map(doc => doc.data());
    }
  </script>

  <!-- MAIN SCRIPT -->
  <script src="script.js"></script>
</body>
</html>
